<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>The Pull Between — Morris Clay</title>
<script>if(new Date().toISOString().slice(0,10)<"2026-02-19")location.replace("/")</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,300;0,6..72,400;0,6..72,500;1,6..72,300;1,6..72,400;1,6..72,500&family=JetBrains+Mono:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">
<style>
:root {
  --ink: #2b2926;
  --ink-soft: #3d3a36;
  --paper: #f0ece4;
  --paper-deep: #e6e1d7;
  --faded: #918a7e;
  --rule: #cdc6b8;
  --accent: #5c7c5a;
  --accent-deep: #4a6548;
  --accent-light: rgba(92, 124, 90, 0.08);
  --shape-stroke: rgba(92, 124, 90, 0.25);
  --shape-ghost: rgba(145, 138, 126, 0.28);
  --highlight: rgba(92, 124, 90, 0.09);
  --measure: 34em;
}

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

html {
  font-size: 18px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  hanging-punctuation: first last;
  scroll-behavior: smooth;
  background: var(--paper);
}

body {
  font-family: 'Newsreader', Georgia, serif;
  font-weight: 400;
  color: var(--ink);
  background: var(--paper);
  min-height: 100vh;
  line-height: 1.72;
  letter-spacing: 0.004em;
  overflow-x: hidden;
}

/* ================================
   BOTTOM TOGGLE
   ================================ */
.mode-dock {
  position: fixed;
  bottom: 1.4rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 300;
  display: flex;
  align-items: center;
  gap: 0;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
  font-size: 0.5rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  user-select: none;
  background: var(--paper);
  border: 1px solid var(--rule);
  border-radius: 20px;
  padding: 2px;
  box-shadow: 0 2px 20px rgba(43, 41, 38, 0.06);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.mode-dock .dock-opt {
  padding: 0.5em 1.1em;
  cursor: pointer;
  color: var(--faded);
  border-radius: 16px;
  transition: color 0.3s ease, background 0.3s ease;
  background: transparent;
  white-space: nowrap;
}

.mode-dock .dock-opt.active {
  color: var(--paper);
  background: var(--ink);
}

.mode-dock .dock-opt:not(.active):hover {
  color: var(--ink);
}

/* ================================
   PROGRESS
   ================================ */
.progress-track {
  position: fixed;
  right: 0;
  top: 0;
  width: 2px;
  height: 100vh;
  background: var(--rule);
  z-index: 200;
  opacity: 0;
  transition: opacity 0.6s ease;
}

.progress-track.visible { opacity: 0.5; }

.progress-fill {
  width: 100%;
  background: var(--accent);
  height: 0%;
  transition: height 0.08s linear;
}

/* ================================
   GRAIN
   ================================ */
.grain {
  position: fixed;
  inset: 0;
  z-index: 100;
  pointer-events: none;
  opacity: 0.025;
  mix-blend-mode: multiply;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 200px;
}

/* ================================
   HOME NAV
   ================================ */
.home-nav {
  position: fixed;
  top: 1.4rem;
  left: 1.6rem;
  z-index: 300;
  opacity: 0;
  animation: fadeIn 0.8s ease 0.4s forwards;
  transition: opacity 0.4s ease;
}

.home-nav a {
  display: flex;
  align-items: center;
  gap: 0.45em;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
  font-size: 0.52rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  text-decoration: none;
  color: var(--faded);
  transition: color 0.3s ease;
  padding: 0.5em 0;
}

.home-nav a:hover { color: var(--ink); }

.home-nav svg {
  width: 14px;
  height: 14px;
  stroke: currentColor;
  stroke-width: 1.5;
  fill: none;
  transition: transform 0.3s ease;
}

.home-nav a:hover svg { transform: translateX(-2px); }

/* ================================
   HERO
   ================================ */
.hero {
  position: relative;
  height: 100vh;
  min-height: 680px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  gap: 0;
}

.hero-shape {
  position: relative;
  width: 200px;
  height: 200px;
  margin-bottom: 2.4rem;
  opacity: 0;
  animation: fadeIn 1s ease 0.2s forwards;
  will-change: transform;
}

.hero-shape canvas { width: 100%; height: 100%; }

@keyframes fadeIn { to { opacity: 1; } }

.hero-scatter {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.hero-scatter canvas { width: 100%; height: 100%; display: block; }

.hero-content {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 0 2rem;
  max-width: 620px;
}

.hero h1 {
  font-weight: 500;
  font-size: clamp(2.5rem, 6vw, 4rem);
  line-height: 1.08;
  letter-spacing: -0.03em;
  color: var(--ink);
  margin-bottom: 0.35em;
  opacity: 0;
  transform: translateY(20px);
  animation: fadeUp 1s cubic-bezier(0.22, 1, 0.36, 1) 0.5s forwards;
}

.hero-sub {
  font-weight: 300;
  font-style: italic;
  font-size: clamp(0.85rem, 1.8vw, 1rem);
  line-height: 1.55;
  color: var(--faded);
  margin-bottom: 1.8em;
  opacity: 0;
  animation: fadeUp 0.9s cubic-bezier(0.22, 1, 0.36, 1) 0.9s forwards;
}

.hero-byline {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1.2em;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
  font-size: 0.52rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--faded);
  opacity: 0;
  animation: fadeUp 0.8s cubic-bezier(0.22, 1, 0.36, 1) 1.2s forwards;
}

.hero-byline .by-sep {
  width: 16px;
  height: 1px;
  background: var(--rule);
  display: inline-block;
}

.hero-byline a {
  color: var(--faded);
  text-decoration: none;
  transition: color 0.3s ease;
}

.hero-byline a:hover { color: var(--ink); }

.scroll-cue {
  position: absolute;
  bottom: 2.5rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  opacity: 0;
  animation: fadeUp 0.8s ease 1.8s forwards;
}

.scroll-cue-line {
  width: 1px;
  height: 32px;
  background: var(--rule);
  margin: 0 auto;
  position: relative;
  overflow: hidden;
}

.scroll-cue-line::after {
  content: '';
  position: absolute;
  top: -100%;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--accent);
  animation: scrollDrop 2.2s ease-in-out infinite 2.2s;
}

@keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
@keyframes scrollDrop { 0% { top: -100%; } 50% { top: 100%; } 100% { top: 100%; } }

/* ================================
   COMPANION SHAPE
   ================================ */
.companion-shape {
  position: fixed;
  z-index: 2;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.8s ease;
  right: calc(50% - 20em - 110px);
  top: 50%;
  transform: translateY(-50%);
  width: 68px;
  height: 68px;
}

.companion-shape.visible { opacity: 1; }

/* ================================
   ESSAY
   ================================ */
.essay-body { position: relative; z-index: 3; padding-bottom: 2rem; }

.section { position: relative; padding: 0 1.5rem; }
.section-inner { max-width: var(--measure); margin: 0 auto; }

.section p {
  margin-bottom: 1.15em;
  font-variant-numeric: oldstyle-nums proportional-nums;
  opacity: 0;
  transform: translateY(18px);
  transition: opacity 0.75s ease, transform 0.75s ease;
}

.section p.revealed { opacity: 1; transform: translateY(0); }

em { font-style: italic; letter-spacing: 0.008em; }

.section a {
  color: var(--accent-deep);
  text-decoration: underline;
  text-decoration-color: var(--rule);
  text-underline-offset: 0.15em;
  transition: text-decoration-color 0.3s ease;
}

.section a:hover { text-decoration-color: var(--accent-deep); }

.sc {
  font-variant: small-caps;
  font-weight: 500;
  letter-spacing: 0.04em;
  font-size: 0.92em;
}

.drop-cap::first-letter {
  float: left;
  font-weight: 500;
  font-size: 4.1em;
  line-height: 0.78;
  margin-right: 0.08em;
  margin-top: 0.06em;
  color: var(--ink);
}

mark.hl {
  background: transparent;
  color: inherit;
  padding: 0.04em 0.12em;
  margin: -0.04em -0.12em;
  border-radius: 2px;
  transition: background 0.9s ease;
}

mark.hl.lit { background: var(--highlight); }

/* Dividers */
.divider {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 3.5rem 0;
  position: relative;
}

.divider svg {
  width: 46px;
  height: 46px;
  opacity: 0;
  transition: opacity 0.8s ease;
}

.divider.revealed svg { opacity: 1; }

.divider .d-inner {
  transition: transform 1.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.divider-label {
  position: absolute;
  top: calc(50% + 30px);
  left: 50%;
  transform: translateX(-50%);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
  font-size: 0.46rem;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: var(--rule);
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.8s ease 0.3s, color 0.8s ease;
}

.divider.revealed .divider-label { opacity: 1; color: var(--faded); }

/* Pull quote */
.pull-quote-section {
  padding: 7rem 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 50vh;
}

.pull-quote {
  max-width: 20em;
  font-weight: 300;
  font-style: italic;
  font-size: clamp(1.5rem, 3.5vw, 2rem);
  line-height: 1.4;
  color: var(--accent-deep);
  letter-spacing: -0.01em;
  text-align: center;
}

.pq-line {
  display: block;
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}

.pq-line.revealed { opacity: 1; transform: translateY(0); }

/* Reframe */
.reframe-old {
  position: relative;
  transition: color 0.5s ease;
}

.reframe-old.struck { color: var(--rule); }

.reframe-old.struck::after {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  height: 1px;
  background: var(--faded);
  animation: strikeIn 0.6s ease forwards;
}

@keyframes strikeIn { from { width: 0; } to { width: 100%; } }

.reframe-new {
  color: var(--accent-deep);
  font-style: italic;
  opacity: 0;
  transition: opacity 0.7s ease 0.3s;
}

.reframe-new.show { opacity: 1; }

/* Word emphasis */
.word-emphasis {
  display: inline-block;
  font-style: italic;
  transition: transform 0.7s cubic-bezier(0.22, 1, 0.36, 1), letter-spacing 0.7s ease;
}

.word-emphasis.breathe {
  transform: scale(1.12);
  letter-spacing: 0.05em;
}

/* ================================
   FINAL — rapid cycling
   ================================ */
.final-shapes {
  position: relative;
  height: 50vh;
  min-height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.final-shapes-wrap {
  width: 140px;
  height: 140px;
  position: relative;
}

.final-shapes-wrap svg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

/* ================================
   CLOSING LINE
   ================================ */
.closing {
  text-align: center;
  padding: 0 1.5rem 8rem;
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 1s ease, transform 1s ease;
}

.closing.revealed { opacity: 1; transform: translateY(0); }

.closing p {
  max-width: var(--measure);
  margin: 0 auto;
  font-weight: 300;
  font-style: italic;
  font-size: 1.05rem;
  color: var(--faded);
  line-height: 1.6;
}

.disclaimer {
  text-align: center;
  padding: 0 1.5rem 6rem;
  max-width: var(--measure);
  margin: 0 auto;
}

.disclaimer p {
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
  font-size: 0.55rem;
  letter-spacing: 0.04em;
  color: var(--rule);
  line-height: 1.7;
}

/* ================================
   AGENT VIEW
   ================================ */
.agent-view {
  display: none;
  max-width: 72ch;
  margin: 0 auto;
  padding: 4rem 1.5rem 6rem;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
  font-size: 0.76rem;
  line-height: 1.85;
  color: var(--ink);
  letter-spacing: 0.01em;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.agent-view .md-h1 {
  font-weight: 400;
  font-size: 1rem;
  letter-spacing: 0.02em;
  margin-bottom: 0.2em;
}

.agent-view .md-sub {
  font-style: italic;
  color: var(--faded);
  margin-bottom: 2.5em;
  display: block;
}

.agent-view .md-rule {
  border: none;
  border-top: 1px solid var(--rule);
  margin: 2em 0;
}

.agent-view .md-p { margin-bottom: 1.2em; }

body.mode-agent .human-view { display: none; }
body.mode-agent .agent-view { display: block; }
body.mode-agent .companion-shape,
body.mode-agent .progress-track,
body.mode-agent .home-nav,
body.mode-agent .grain { display: none; }

/* ================================
   RESPONSIVE
   ================================ */
@media (max-width: 1100px) {
  .companion-shape { right: 1.2rem; width: 52px; height: 52px; }
}

@media (max-width: 768px) {
  :root {
    --pad-x: max(2rem, env(safe-area-inset-left, 0px) + 1.4rem);
  }
  html { font-size: 16.5px; }
  .home-nav { top: 1rem; left: var(--pad-x); }
  .hero { min-height: 580px; }
  .hero-shape { width: 150px; height: 150px; margin-bottom: 1.8rem; }
  .hero-content { padding: 0 var(--pad-x); }
  .hero-byline { gap: 0.8em; font-size: 0.48rem; }
  .companion-shape { display: none; }
  .section { padding: 0 var(--pad-x); }
  .divider svg { width: 38px; height: 38px; }
  .pull-quote-section { padding: 5rem var(--pad-x); min-height: 40vh; }
  .closing { padding: 0 var(--pad-x) 8rem; }
  .disclaimer { padding: 0 var(--pad-x) 6rem; }
  .agent-view { padding: 4rem var(--pad-x) 6rem; }
  .final-shapes { height: 40vh; }
  .final-shapes-wrap { width: 110px; height: 110px; }
  .mode-dock { bottom: max(1rem, env(safe-area-inset-bottom, 0px) + 0.5rem); }
}

/* iPhone Pro range (393–430pt) */
@media (max-width: 440px) {
  :root { --pad-x: max(2.4rem, env(safe-area-inset-left, 0px) + 1.6rem); }
  html { font-size: 16px; }
  .hero h1 { font-size: 2.3rem; }
  .hero-sub { font-size: 0.85rem; }
  .hero-shape { width: 130px; height: 130px; margin-bottom: 1.5rem; }
}

/* iPhone SE / small screens (375pt and below) */
@media (max-width: 380px) {
  :root { --pad-x: max(1.8rem, env(safe-area-inset-left, 0px) + 1.2rem); }
  html { font-size: 15.5px; }
  .hero h1 { font-size: 2rem; }
}

::selection { background: rgba(92, 124, 90, 0.16); color: inherit; }

/* ================================
   AUDIO PLAYER
   ================================ */
.audio-player {
  display: flex;
  align-items: center;
  gap: 0.7em;
  margin: 1.8em auto 0;
  max-width: 240px;
  opacity: 0;
  animation: fadeUp 0.8s cubic-bezier(0.22, 1, 0.36, 1) 1.5s forwards;
}

.audio-player.hidden { display: none; }

.audio-btn {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1px solid var(--rule);
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: border-color 0.3s ease, background 0.3s ease;
  flex-shrink: 0;
  padding: 0;
}

.audio-btn:hover {
  border-color: var(--accent);
  background: var(--accent-light);
}

.audio-btn svg {
  width: 10px;
  height: 10px;
  fill: var(--faded);
  stroke: none;
  transition: fill 0.3s ease;
}

.audio-btn:hover svg { fill: var(--accent); }

.audio-btn .icon-pause { display: none; }
.audio-btn.playing .icon-play { display: none; }
.audio-btn.playing .icon-pause { display: block; }

.audio-track {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 0.6em;
  min-width: 0;
}

.audio-bar {
  flex: 1;
  height: 2px;
  background: var(--rule);
  border-radius: 1px;
  cursor: pointer;
  position: relative;
}

.audio-bar-fill {
  height: 100%;
  background: var(--accent);
  width: 0%;
  border-radius: 1px;
}

.audio-time {
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
  font-size: 0.46rem;
  letter-spacing: 0.08em;
  color: var(--faded);
  white-space: nowrap;
}

.audio-speed {
  font-family: 'JetBrains Mono', monospace;
  font-weight: 400;
  font-size: 0.44rem;
  letter-spacing: 0.04em;
  color: var(--faded);
  background: transparent;
  border: 1px solid var(--rule);
  border-radius: 10px;
  padding: 0.25em 0.5em;
  cursor: pointer;
  white-space: nowrap;
  transition: color 0.3s ease, border-color 0.3s ease;
  flex-shrink: 0;
  min-width: 2.4em;
  text-align: center;
}

.audio-speed:hover {
  color: var(--accent);
  border-color: var(--accent);
}
</style>
</head>
<body class="mode-human">

<!-- Home nav -->
<nav class="home-nav" id="homeNav">
  <a href="https://morrisclay.com">
    <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
    Morris Clay
  </a>
</nav>

<!-- Bottom toggle -->
<div class="mode-dock" id="modeDock">
  <div class="dock-opt active" data-mode="human">Human</div>
  <div class="dock-opt" data-mode="agent">Agent</div>
</div>

<div class="progress-track" id="progressTrack"><div class="progress-fill" id="progressFill"></div></div>
<div class="grain"></div>

<div class="companion-shape" id="companionShape">
  <svg viewBox="0 0 100 100">
    <polygon id="compContainer" points="50,5 93,27 93,73 50,95 7,73 7,27" fill="none" stroke="var(--shape-ghost)" stroke-width="1"/>
    <polygon id="compObject" points="50,25 75,35 80,60 60,80 30,72 25,42" fill="none" stroke="var(--shape-stroke)" stroke-width="1.2"/>
  </svg>
</div>

<!-- ============================================
     HUMAN VIEW
     ============================================ -->
<div class="human-view">

<!-- HERO -->
<section class="hero" id="heroSection">
  <div class="hero-scatter"><canvas id="scatterCanvas"></canvas></div>

  <div class="hero-shape" id="heroShapeWrap">
    <canvas id="heroShapeCanvas" width="400" height="400"></canvas>
  </div>

  <div class="hero-content">
    <h1>The Pull&nbsp;Between</h1>
    <p class="hero-sub">What happens when shapes don't&nbsp;agree</p>
    <div class="hero-byline">
      <a href="https://morrisclay.com">Morris Clay</a>
      <span class="by-sep"></span>
      <span>February 2026</span>
    </div>
    <div class="audio-player" id="audioPlayer">
      <audio id="audioEl" preload="metadata" src="/audio/the-pull-between.mp3"></audio>
      <button class="audio-btn" id="audioBtn" aria-label="Play audio">
        <svg class="icon-play" viewBox="0 0 16 16"><polygon points="5,2 14,8 5,14"/></svg>
        <svg class="icon-pause" viewBox="0 0 16 16"><rect x="3" y="2" width="3.5" height="12"/><rect x="9.5" y="2" width="3.5" height="12"/></svg>
      </button>
      <div class="audio-track">
        <div class="audio-bar" id="audioBar">
          <div class="audio-bar-fill" id="audioFill"></div>
        </div>
        <span class="audio-time" id="audioTime"></span>
      </div>
      <button class="audio-speed" id="audioSpeed" aria-label="Playback speed">1x</button>
    </div>
  </div>

  <div class="scroll-cue"><div class="scroll-cue-line"></div></div>
</section>

<!-- ESSAY -->
<main class="essay-body" id="essayBody">

  <!-- ====== SECTION 1 — Intro ====== -->
  <section class="section" data-section="1">
    <div class="section-inner" style="padding-top:6rem">
      <p class="drop-cap">I've been watching a portfolio company hold three shapes at once. Same technology&thinsp;—&thinsp;a sync primitive most of the industry doesn't fully understand&thinsp;—&thinsp;packaged three ways for three worlds. One shape has traction. Another is emerging around agentic workloads, pulling the product somewhere new. Underneath both, the original science that predates either&nbsp;container.</p>
      <p>These shapes pull in different directions. Different customers, different urgency, different energy in the room when each one comes up. You can feel it&thinsp;—&thinsp;a kind of productive discomfort, the conversation shifting register depending on which shape is on the table. The founders haven't collapsed it. They're sitting with it, letting it teach them something that neither shape could teach alone. Every board meeting I leave thinking: <mark class="hl">they're getting smarter faster than companies that picked a&nbsp;lane.</mark></p>
      <p>When shapes meet, the instinct is to resolve. To pick. To collapse the ambiguity into something that fits on a slide. I keep watching what happens when founders resist that&nbsp;instinct.</p>
    </div>
  </section>

  <div class="divider" data-divider data-rotation="35"><svg viewBox="0 0 52 52"><circle cx="26" cy="26" r="22" fill="none" stroke="var(--shape-ghost)" stroke-width="1" stroke-dasharray="3 2.5"/><polygon class="d-inner" points="26,10 42,38 10,38" fill="none" stroke="var(--shape-stroke)" stroke-width="1"/></svg><div class="divider-label">the quiet</div></div>

  <!-- ====== SECTION 2 — The Quiet ====== -->
  <section class="section" data-section="2">
    <div class="section-inner">
      <p>Sometimes shapes don't press against each other on their own. Everyone agrees. The shape settles. That quiet consensus is more dangerous than any friction. <mark class="hl">A product without competing shapes pulling on it isn't learning anything new about&nbsp;itself.</mark></p>
      <p><mark class="hl">If the friction isn't there, create&nbsp;it.</mark></p>
    </div>
  </section>

  <div class="divider" data-divider data-rotation="15"><svg viewBox="0 0 52 52"><rect x="8" y="8" width="36" height="36" fill="none" stroke="var(--shape-ghost)" stroke-width="1" stroke-dasharray="3 2.5" transform="rotate(45 26 26)"/><rect class="d-inner" x="12" y="12" width="28" height="28" fill="none" stroke="var(--shape-stroke)" stroke-width="1"/></svg><div class="divider-label">the hold</div></div>

  <!-- ====== SECTION 3 — The Hold ====== -->
  <section class="section" data-section="3">
    <div class="section-inner">
      <p>Another portfolio company built something beautiful for data practitioners. Composability was the point. People who used it could feel the difference in their hands. A felt shape: precise, opinionated,&nbsp;loved.</p>
      <p>Then the market moved. A different buyer started pulling on the product. Natural language made the technical surface less relevant. Agents became the primary consumers. What mattered wasn't composability anymore. Reliability. Auditability. "Just&nbsp;works."</p>
      <p>The instinct was to resolve. Pick a lane. The board wanted clarity. Investors wanted a&nbsp;narrative.</p>
      <p>They didn't pick. And I made it harder for&nbsp;them.</p>
      <p>I built a prototype&thinsp;—&thinsp;rough, provocative&thinsp;—&thinsp;that showed a different made shape for their technology. Another shape thrown into a room already full of competing shapes, to see what happened when the friction&nbsp;intensified.</p>
      <p>Months of late-night Slack messages followed. Co-iterations. Many hands. What emerged wasn't a compromise. It was a third thing&thinsp;—&thinsp;carrying what the market demanded while reshaping what the original tool could become. <mark class="hl">What survived wasn't unchanged. The friction reshaped&nbsp;it.</mark> It crystallized because the friction was held long enough&thinsp;—&thinsp;and sometimes fed. <mark class="hl">Nobody saw it at the start. That was the&nbsp;point.</mark></p>
    </div>
  </section>

  <div class="divider" data-divider data-rotation="8"><svg viewBox="0 0 52 52"><rect x="8" y="8" width="36" height="36" fill="none" stroke="var(--shape-ghost)" stroke-width="1" stroke-dasharray="3 2.5" transform="rotate(45 26 26)"/><rect class="d-inner" x="14" y="14" width="24" height="24" fill="none" stroke="var(--shape-stroke)" stroke-width="1" transform="rotate(45 26 26)"/></svg><div class="divider-label">the miss</div></div>

  <!-- ====== SECTION 4 — The Miss ====== -->
  <section class="section" data-section="4">
    <div class="section-inner">
      <p>One I got&nbsp;wrong.</p>
      <p>A portfolio company with a strong founder shape and a natural fit with early customers. Top-down enterprise. High-value contracts. Long cycles. Every meeting confirmed the thesis. Everyone in the room in the same shape,&nbsp;nodding.</p>
      <p>By the time shape work started, everything had set. I could feel the absence of any competing pull. Conversations about the product's future circled back to the same assumptions. Nothing soft left to push&nbsp;on.</p>
      <p>When the ruled shapes arrived&thinsp;—&thinsp;what follow-on investors needed to see, what the runway demanded&thinsp;—&thinsp;the product couldn't move. They sold to a larger organization that could hold that shape better than a startup&nbsp;could.</p>
      <p><mark class="hl">Shape work can't be bolted on when things get&nbsp;stuck.</mark> It needs to run from the beginning&thinsp;—&thinsp;when conviction is strong but the form is still loose, when there's still room for friction to enter and generate information. After the shapes get dense enough that changing them costs more than most startups can afford, you're not doing shape work. You're doing&nbsp;renovation.</p>
    </div>
  </section>

  <div class="divider" data-divider data-rotation="0"><svg viewBox="0 0 52 52"><polygon points="26,4 49,18 49,38 26,50 3,38 3,18" fill="none" stroke="var(--shape-ghost)" stroke-width="1" stroke-dasharray="3 2.5"/><polygon class="d-inner" points="26,10 43,20 43,36 26,44 9,36 9,20" fill="none" stroke="var(--shape-stroke)" stroke-width="1"/></svg><div class="divider-label">the patterns</div></div>

  <!-- ====== SECTION 5 — The Patterns ====== -->
  <section class="section" data-section="5">
    <div class="section-inner">
      <p>Friction dies in predictable ways. I've watched it happen enough times to recognize the&nbsp;patterns.</p>
      <p>The board wants clarity. "Are we X or Y?" The room exhales. The binary feels like progress. But the answer was something without a name yet&thinsp;—&thinsp;a third shape the tension was still producing. The binary killed it. I call this the <strong>narrative collapse</strong>: the moment when the need for a clean story destroys the messy&nbsp;signal.</p>
      <p>Tension gets uncomfortable. Someone reaches for the most measurable shape. Pipeline numbers, activation rates, feature completion. It takes over&thinsp;—&thinsp;not because it matters most, but because it's most legible. Felt shape and enacted shape can't defend themselves in a spreadsheet. That's the <strong>metric grab</strong>. It looks like rigor. It's a&nbsp;retreat.</p>
      <p>A design partner asks for something. The team builds it. Then another partner, another request. Each one reasonable. The accumulation reshapes the product around the loudest voice rather than the deepest signal. <strong>Customer capitulation</strong>&thinsp;—&thinsp;not any single decision, but the slow drift of building for whoever's in the room rather than what the friction is trying to teach&nbsp;you.</p>
      <p>A round is coming. The team picks the shape easiest to explain to investors. This is when most founders first encounter something like shape work&thinsp;—&thinsp;they call it "storytelling." But storytelling is picking the most fundable narrative. Shape work is understanding the system of tensions you're inside. They look similar from the outside. They produce very different products. The <strong>fundraise snap</strong> is the most common, and maybe the most forgiven, way to kill friction. Everyone understands why it happens. The product still pays the&nbsp;price.</p>
      <p>Every one of these is the same reflex&thinsp;—&thinsp;making friction go away by collapsing into one shape. <mark class="hl">Every one destroys&nbsp;information.</mark></p>
      <p>The diagnostic: is this friction generating new information, or generating paralysis? If it's generating information&thinsp;—&thinsp;stay in it. If paralysis, the friction needs to be reshaped. Not resolved.&nbsp;Reshaped.</p>
    </div>
  </section>

  <div class="divider" data-divider data-rotation="20"><svg viewBox="0 0 52 52"><circle cx="26" cy="26" r="22" fill="none" stroke="var(--shape-ghost)" stroke-width="1" stroke-dasharray="3 2.5"/><polygon class="d-inner" points="26,6 44,16 48,36 36,48 16,48 4,36 8,16" fill="none" stroke="var(--shape-stroke)" stroke-width="1"/></svg><div class="divider-label">what compounds</div></div>

  <!-- ====== SECTION 6 — What Compounds ====== -->
  <section class="section" data-section="6">
    <div class="section-inner">
      <p>The sync company held their friction long enough to produce real results&thinsp;—&thinsp;three shapes from the same science, each one a different conversation with the world. The data tool founders held theirs long enough to produce real insight&thinsp;—&thinsp;the kind you only get from months inside competing pulls. The company that settled early never had friction to hold. They shipped a product that looked right from the outside. It wasn't&nbsp;earned.</p>
      <p>I think this is the thing that's hardest to see about shape work. Every act of collapsing tension&thinsp;—&thinsp;picking a lane, choosing a narrative, resolving the ambiguity&thinsp;—&thinsp;destroys information. The friction between shapes is where a company learns things about itself that no single shape could reveal. The companies that hold competing shapes long enough don't just endure the discomfort. They accumulate a depth of understanding&thinsp;—&thinsp;about their technology, their market, the space between what's possible and what's adoptable&thinsp;—&thinsp;that companies who resolved early never had access&nbsp;to.</p>
      <p>The shallow version of a product is the visible surface&thinsp;—&thinsp;what competitors can see and replicate. <mark class="hl">The deep version is everything the tension kept&nbsp;alive.</mark> The options you can see because you let the friction keep generating signal instead of shutting it down. That information doesn't show up on a dashboard. It lives in the company&thinsp;—&thinsp;in the conversations that kept going, the shapes that kept pulling, the questions that wouldn't&nbsp;resolve.</p>
    </div>
  </section>

  <section class="final-shapes" id="finalShapes">
    <div class="final-shapes-wrap">
      <svg viewBox="0 0 140 140">
        <polygon points="70,6 132,38 132,102 70,134 8,102 8,38" fill="none" stroke="var(--shape-ghost)" stroke-width="1" stroke-dasharray="4 3"/>
      </svg>
      <svg viewBox="0 0 140 140">
        <polygon id="cycleShape" points="70,30 110,45 115,85 85,115 40,105 35,55" fill="none" stroke="var(--accent)" stroke-width="1.3"/>
      </svg>
    </div>
  </section>

  <div class="closing" id="closingLine">
    <p>Hold the&nbsp;tension.</p>
  </div>


</main>
</div>

<!-- ============================================
     AGENT VIEW
     ============================================ -->
<div class="agent-view" id="agentView">
<div class="md-h1"># The Pull Between</div>
<span class="md-sub">What happens when shapes don't agree</span>
<span class="md-sub" style="margin-bottom:0.5em">Morris Clay · February 2026</span>

<div class="md-p">I've been watching a portfolio company hold three shapes at once. Same technology — a sync primitive most of the industry doesn't fully understand — packaged three ways for three worlds. One shape has traction. Another is emerging around agentic workloads, pulling the product somewhere new. Underneath both, the original science that predates either container.</div>

<div class="md-p">These shapes pull in different directions. Different customers, different urgency, different energy in the room when each one comes up. You can feel it — a kind of productive discomfort, the conversation shifting register depending on which shape is on the table. The founders haven't collapsed it. They're sitting with it, letting it teach them something that neither shape could teach alone. Every board meeting I leave thinking: they're getting smarter faster than companies that picked a lane.</div>

<div class="md-p">When shapes meet, the instinct is to resolve. To pick. To collapse the ambiguity into something that fits on a slide. I keep watching what happens when founders resist that instinct.</div>

<hr class="md-rule">

<div class="md-p">Sometimes shapes don't press against each other on their own. Everyone agrees. The shape settles. That quiet consensus is more dangerous than any friction. A product without competing shapes pulling on it isn't learning anything new about itself.</div>

<div class="md-p">If the friction isn't there, create it.</div>

<hr class="md-rule">

<div class="md-p">Another portfolio company built something beautiful for data practitioners. Composability was the point. People who used it could feel the difference in their hands. A felt shape: precise, opinionated, loved.</div>

<div class="md-p">Then the market moved. A different buyer started pulling on the product. Natural language made the technical surface less relevant. Agents became the primary consumers. What mattered wasn't composability anymore. Reliability. Auditability. "Just works."</div>

<div class="md-p">The instinct was to resolve. Pick a lane. The board wanted clarity. Investors wanted a narrative.</div>

<div class="md-p">They didn't pick. And I made it harder for them.</div>

<div class="md-p">I built a prototype — rough, provocative — that showed a different made shape for their technology. Another shape thrown into a room already full of competing shapes, to see what happened when the friction intensified.</div>

<div class="md-p">Months of late-night Slack messages followed. Co-iterations. Many hands. What emerged wasn't a compromise. It was a third thing — carrying what the market demanded while reshaping what the original tool could become. What survived wasn't unchanged. The friction reshaped it. It crystallized because the friction was held long enough — and sometimes fed. Nobody saw it at the start. That was the point.</div>

<hr class="md-rule">

<div class="md-p">One I got wrong.</div>

<div class="md-p">A portfolio company with a strong founder shape and a natural fit with early customers. Top-down enterprise. High-value contracts. Long cycles. Every meeting confirmed the thesis. Everyone in the room in the same shape, nodding.</div>

<div class="md-p">By the time shape work started, everything had set. I could feel the absence of any competing pull. Conversations about the product's future circled back to the same assumptions. Nothing soft left to push on.</div>

<div class="md-p">When the ruled shapes arrived — what follow-on investors needed to see, what the runway demanded — the product couldn't move. They sold to a larger organization that could hold that shape better than a startup could.</div>

<div class="md-p">Shape work can't be bolted on when things get stuck. It needs to run from the beginning — when conviction is strong but the form is still loose, when there's still room for friction to enter and generate information. After the shapes get dense enough that changing them costs more than most startups can afford, you're not doing shape work. You're doing renovation.</div>

<hr class="md-rule">

<div class="md-p">Friction dies in predictable ways. I've watched it happen enough times to recognize the patterns.</div>

<div class="md-p">The board wants clarity. "Are we X or Y?" The room exhales. The binary feels like progress. But the answer was something without a name yet — a third shape the tension was still producing. The binary killed it. I call this the **narrative collapse**: the moment when the need for a clean story destroys the messy signal.</div>

<div class="md-p">Tension gets uncomfortable. Someone reaches for the most measurable shape. Pipeline numbers, activation rates, feature completion. It takes over — not because it matters most, but because it's most legible. Felt shape and enacted shape can't defend themselves in a spreadsheet. That's the **metric grab**. It looks like rigor. It's a retreat.</div>

<div class="md-p">A design partner asks for something. The team builds it. Then another partner, another request. Each one reasonable. The accumulation reshapes the product around the loudest voice rather than the deepest signal. **Customer capitulation** — not any single decision, but the slow drift of building for whoever's in the room rather than what the friction is trying to teach you.</div>

<div class="md-p">A round is coming. The team picks the shape easiest to explain to investors. This is when most founders first encounter something like shape work — they call it "storytelling." But storytelling is picking the most fundable narrative. Shape work is understanding the system of tensions you're inside. They look similar from the outside. They produce very different products. The **fundraise snap** is the most common, and maybe the most forgiven, way to kill friction. Everyone understands why it happens. The product still pays the price.</div>

<div class="md-p">Every one of these is the same reflex — making friction go away by collapsing into one shape. Every one destroys information.</div>

<div class="md-p">The diagnostic: is this friction generating new information, or generating paralysis? If it's generating information — stay in it. If paralysis, the friction needs to be reshaped. Not resolved. Reshaped.</div>

<hr class="md-rule">

<div class="md-p">The sync company held their friction long enough to produce real results — three shapes from the same science, each one a different conversation with the world. The data tool founders held theirs long enough to produce real insight — the kind you only get from months inside competing pulls. The company that settled early never had friction to hold. They shipped a product that looked right from the outside. It wasn't earned.</div>

<div class="md-p">I think this is the thing that's hardest to see about shape work. Every act of collapsing tension — picking a lane, choosing a narrative, resolving the ambiguity — destroys information. The friction between shapes is where a company learns things about itself that no single shape could reveal. The companies that hold competing shapes long enough don't just endure the discomfort. They accumulate a depth of understanding — about their technology, their market, the space between what's possible and what's adoptable — that companies who resolved early never had access to.</div>

<div class="md-p">The shallow version of a product is the visible surface — what competitors can see and replicate. The deep version is everything the tension kept alive. The options you can see because you let the friction keep generating signal instead of shutting it down. That information doesn't show up on a dashboard. It lives in the company — in the conversations that kept going, the shapes that kept pulling, the questions that wouldn't resolve.</div>

<div class="md-p">Hold the tension.</div>

</div>

<script>
/* ================================
   MODE TOGGLE
   ================================ */
document.getElementById('modeDock').addEventListener('click', e => {
  const opt = e.target.closest('.dock-opt');
  if (!opt) return;
  document.querySelectorAll('.dock-opt').forEach(o => o.classList.remove('active'));
  opt.classList.add('active');
  document.body.className = 'mode-' + opt.dataset.mode;
  window.scrollTo(0, 0);
});

/* ================================
   HERO — central shape animation
   Mouse-reactive, with ghost trail
   ================================ */
(function(){
  const c = document.getElementById('heroShapeCanvas');
  const wrap = document.getElementById('heroShapeWrap');
  const heroEl = document.getElementById('heroSection');
  if (!c) return;
  const ctx = c.getContext('2d');
  const dpr = Math.min(devicePixelRatio || 1, 2);
  const W = 400, H = 400;
  c.width = W * dpr; c.height = H * dpr;
  c.style.width = '100%'; c.style.height = '100%';
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

  const cx = W/2, cy = H/2;

  // Mouse influence
  let mx = 0, my = 0, tmx = 0, tmy = 0;
  document.addEventListener('mousemove', e => {
    if (!heroEl) return;
    const r = heroEl.getBoundingClientRect();
    tmx = ((e.clientX - r.left) / r.width - 0.5) * 2;
    tmy = ((e.clientY - r.top) / r.height - 0.5) * 2;
  });

  // Container: hexagon
  function hexPts(r) {
    const pts = [];
    for (let i = 0; i < 6; i++) {
      const a = (i/6) * Math.PI * 2 - Math.PI/2;
      pts.push([cx + Math.cos(a)*r, cy + Math.sin(a)*r]);
    }
    return pts;
  }

  const containerR = 130;
  const container = hexPts(containerR);

  // Previous frame vertices for ghost trail
  let prevVerts = [];

  let t = 0;

  function drawFrame() {
    t += 0.006;

    // Smooth mouse
    mx += (tmx - mx) * 0.04;
    my += (tmy - my) * 0.04;

    ctx.clearRect(0, 0, W, H);

    // Container — dashed hexagon
    ctx.beginPath();
    container.forEach((p, i) => i === 0 ? ctx.moveTo(p[0], p[1]) : ctx.lineTo(p[0], p[1]));
    ctx.closePath();
    ctx.strokeStyle = 'rgba(145, 138, 126, 0.25)';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Ghost trail shape (delayed)
    if (prevVerts.length) {
      ctx.beginPath();
      prevVerts.forEach((p, i) => i === 0 ? ctx.moveTo(p[0], p[1]) : ctx.lineTo(p[0], p[1]));
      ctx.closePath();
      ctx.strokeStyle = 'rgba(92, 124, 90, 0.1)';
      ctx.lineWidth = 1;
      ctx.stroke();
    }

    // Inner shape — morphing, rotating, mouse-reactive
    const sides = 5;
    const rot = t * 0.7;
    const wobbleFreq = 0.8;
    const breathe = Math.sin(t * 0.5) * 8;
    const mouseInfluence = 12;

    const verts = [];
    ctx.beginPath();
    for (let i = 0; i < sides; i++) {
      const baseAngle = (i / sides) * Math.PI * 2 - Math.PI/2 + rot;
      const rVar = 68 + breathe
        + Math.sin(t * wobbleFreq + i * 2.1) * 22
        + Math.cos(t * 1.3 + i * 0.7) * 12
        + (Math.cos(baseAngle) * mx + Math.sin(baseAngle) * my) * mouseInfluence;
      const px = cx + Math.cos(baseAngle) * rVar;
      const py = cy + Math.sin(baseAngle) * rVar;
      verts.push([px, py]);
      i === 0 ? ctx.moveTo(px, py) : ctx.lineTo(px, py);
    }
    ctx.closePath();
    ctx.strokeStyle = 'rgba(92, 124, 90, 0.45)';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.fillStyle = 'rgba(92, 124, 90, 0.025)';
    ctx.fill();

    // Vertex dots
    verts.forEach(([px, py]) => {
      ctx.beginPath();
      ctx.arc(px, py, 2.2, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(92, 124, 90, 0.35)';
      ctx.fill();
    });

    // Thin connecting lines from vertices to container center (subtle tension lines)
    verts.forEach(([px, py], i) => {
      const cp = container[i % container.length];
      ctx.beginPath();
      ctx.moveTo(px, py);
      ctx.lineTo(cp[0], cp[1]);
      ctx.strokeStyle = 'rgba(92, 124, 90, 0.06)';
      ctx.lineWidth = 0.5;
      ctx.stroke();
    });

    // Save for ghost trail
    prevVerts = verts;

    // Subtle parallax on the shape wrapper
    if (wrap) {
      wrap.style.transform = `translate(${mx * -6}px, ${my * -6}px)`;
    }

    requestAnimationFrame(drawFrame);
  }

  requestAnimationFrame(drawFrame);

  // Scroll parallax for hero shape
  window.addEventListener('scroll', () => {
    if (!heroEl || !wrap) return;
    const sy = window.scrollY;
    const hh = heroEl.offsetHeight;
    if (sy < hh) {
      const p = sy / hh;
      wrap.style.opacity = 1 - p * 1.2;
    }
  }, { passive: true });
})();

/* ================================
   HERO — scattered background shapes
   ================================ */
(function(){
  const c = document.getElementById('scatterCanvas');
  if (!c) return;
  const ctx = c.getContext('2d');
  let w, h, S = [], t = 0;

  function sz() {
    const d = Math.min(devicePixelRatio || 1, 2);
    const r = c.parentElement.getBoundingClientRect();
    w = r.width; h = r.height;
    c.width = w*d; c.height = h*d;
    c.style.width = w+'px'; c.style.height = h+'px';
    ctx.setTransform(d,0,0,d,0,0);
  }

  function init() {
    S = [];
    const n = Math.min(10, Math.floor(w/120));
    for (let i = 0; i < n; i++) S.push({
      x: Math.random()*w, y: Math.random()*h,
      sz: 12+Math.random()*40, si: 3+Math.floor(Math.random()*4),
      r: Math.random()*Math.PI*2, rs: (Math.random()-.5)*.004,
      dx: (Math.random()-.5)*.08, dy: (Math.random()-.5)*.08,
      ph: Math.random()*Math.PI*2, a: .025+Math.random()*.035
    });
  }

  function draw(T) {
    t = T; ctx.clearRect(0,0,w,h);
    S.forEach(s => {
      s.x+=s.dx; s.y+=s.dy; s.r+=s.rs;
      if(s.x<-80)s.x=w+80; if(s.x>w+80)s.x=-80;
      if(s.y<-80)s.y=h+80; if(s.y>h+80)s.y=-80;
      ctx.save(); ctx.translate(s.x,s.y); ctx.rotate(s.r); ctx.beginPath();
      for(let i=0;i<=s.si;i++){
        const a=(i/s.si)*Math.PI*2-Math.PI/2;
        const R=s.sz+Math.sin(t*.0008+s.ph+i)*2;
        i===0?ctx.moveTo(Math.cos(a)*R,Math.sin(a)*R):ctx.lineTo(Math.cos(a)*R,Math.sin(a)*R);
      }
      ctx.closePath();
      ctx.strokeStyle=`rgba(92,124,90,${s.a})`;
      ctx.lineWidth=0.8; ctx.stroke(); ctx.restore();
    });
    requestAnimationFrame(draw);
  }

  sz(); init();
  window.addEventListener('resize',()=>{sz();init()});
  requestAnimationFrame(draw);
})();

/* ================================
   COMPANION + PROGRESS + NAV
   ================================ */
(function(){
  const pTrack = document.getElementById('progressTrack');
  const pFill = document.getElementById('progressFill');
  const comp = document.getElementById('companionShape');
  const compObj = document.getElementById('compObject');
  const essay = document.getElementById('essayBody');
  const homeNav = document.getElementById('homeNav');

  const fit=[[50,5],[93,27],[93,73],[50,95],[7,73],[7,27]];
  const mis=[[50,25],[75,35],[80,60],[60,80],[30,72],[25,42]];

  function lp(a,b,t){return a.map((p,i)=>[p[0]+(b[i][0]-p[0])*t,p[1]+(b[i][1]-p[1])*t].join(',')).join(' ');}
  function ease(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2;}

  function tick(){
    const sy=window.scrollY;
    const dH=document.documentElement.scrollHeight-window.innerHeight;
    const prog=Math.max(0,Math.min(1,sy/dH));

    pFill.style.height=(prog*100)+'%';
    pTrack.classList.toggle('visible',prog>0.02&&prog<0.98);

    // Home nav: visible in hero, then stays visible but subtler
    if(homeNav){
      const heroH = window.innerHeight;
      if(sy > heroH * 0.6) homeNav.style.opacity = '0.5';
      else homeNav.style.opacity = '';
    }

    if(!essay)return;
    const bTop=essay.offsetTop,bH=essay.offsetHeight;
    const ep=Math.max(0,Math.min(1,(sy-bTop+window.innerHeight*.5)/bH));
    compObj.setAttribute('points',lp(mis,fit,ease(ep)));

    const inE=sy>bTop-window.innerHeight*.5&&sy<bTop+bH-window.innerHeight*.3;
    comp.classList.toggle('visible',inE);

    const wb=Math.sin(Date.now()*.0008)*(3-ease(ep)*3);
    comp.style.transform=`translateY(-50%) rotate(${wb}deg)`;
  }

  window.addEventListener('scroll',tick,{passive:true});
  tick();
})();

/* ================================
   OBSERVERS
   ================================ */
(function(){
  const io=(sel,opts,cb)=>{const o=new IntersectionObserver(es=>{es.forEach(e=>{if(e.isIntersecting)cb(e.target)})},opts);document.querySelectorAll(sel).forEach(el=>o.observe(el));return o;};

  io('.section p',{threshold:0.1,rootMargin:'0px 0px -25px 0px'},el=>el.classList.add('revealed'));
  io('mark.hl',{threshold:0.9,rootMargin:'0px 0px -5% 0px'},el=>el.classList.add('lit'));

  io('[data-divider]',{threshold:0.5},el=>{
    el.classList.add('revealed');
    const inner=el.querySelector('.d-inner');
    if(inner)inner.style.transform=`rotate(${el.dataset.rotation||0}deg)`;
  });

  const pqL=document.querySelectorAll('.pq-line');
  if(pqL.length){
    const o=new IntersectionObserver(es=>{es.forEach(e=>{
      if(e.isIntersecting){pqL.forEach((l,i)=>setTimeout(()=>l.classList.add('revealed'),i*280));o.disconnect();}
    })},{threshold:0.4});
    o.observe(pqL[0].parentElement);
  }

  const oE=document.querySelector('[data-reframe="old"]');
  if(oE){let f=0;io('[data-reframe="old"]',{threshold:0.7},()=>{if(!f){f=1;oE.classList.add('struck')}});}

  const nE=document.querySelector('[data-reframe="new"]');
  if(nE){let f=0;io('[data-reframe="new"]',{threshold:0.7},()=>{if(!f){f=1;nE.classList.add('show')}});}

  const we=document.querySelector('[data-emphasis]');
  if(we) io('[data-emphasis]',{threshold:1.0},()=>{we.classList.add('breathe');setTimeout(()=>we.classList.remove('breathe'),800);});

  // Closing line
  const cl=document.getElementById('closingLine');
  if(cl) io('#closingLine',{threshold:0.5},el=>el.classList.add('revealed'));
})();

/* ================================
   FINAL — rapid shape cycling
   ================================ */
(function(){
  const shape=document.getElementById('cycleShape');
  const section=document.getElementById('finalShapes');
  if(!shape||!section)return;

  function rp(){
    const cx=70,cy=70,pts=[];
    for(let i=0;i<6;i++){
      const a=(i/6)*Math.PI*2-Math.PI/2;
      const r=25+Math.random()*42;
      pts.push([Math.round(cx+Math.cos(a)*r),Math.round(cy+Math.sin(a)*r)]);
    }
    return pts;
  }

  let active=false,cur=rp(),tgt=rp(),mt=0;
  const sp=0.022;

  function lp(a,b,t){return a.map((p,i)=>[p[0]+(b[i][0]-p[0])*t,p[1]+(b[i][1]-p[1])*t].join(',')).join(' ');}
  function ease(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2;}

  function go(){
    if(!active)return;
    mt+=sp;
    if(mt>=1){cur=tgt;tgt=rp();mt=0;}
    shape.setAttribute('points',lp(cur,tgt,ease(mt)));
    requestAnimationFrame(go);
  }

  new IntersectionObserver(es=>{es.forEach(e=>{
    if(e.isIntersecting&&!active){active=true;go();}
    else if(!e.isIntersecting){active=false;}
  })},{threshold:0.2}).observe(section);
})();

/* ================================
   AUDIO PLAYER
   ================================ */
(function(){
  const audio = document.getElementById('audioEl');
  const player = document.getElementById('audioPlayer');
  const btn = document.getElementById('audioBtn');
  const bar = document.getElementById('audioBar');
  const fill = document.getElementById('audioFill');
  const time = document.getElementById('audioTime');
  if (!audio || !btn) return;

  function fmt(s) {
    if (isNaN(s) || !isFinite(s)) return '0:00';
    const m = Math.floor(s / 60);
    const sec = Math.floor(s % 60);
    return m + ':' + (sec < 10 ? '0' : '') + sec;
  }

  // Hide player if audio fails to load
  audio.addEventListener('error', () => {
    player.classList.add('hidden');
  });

  audio.addEventListener('loadedmetadata', () => {
    time.textContent = fmt(audio.duration);
  });

  btn.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      btn.classList.add('playing');
    } else {
      audio.pause();
      btn.classList.remove('playing');
    }
  });

  audio.addEventListener('timeupdate', () => {
    if (!audio.duration) return;
    fill.style.width = (audio.currentTime / audio.duration) * 100 + '%';
    time.textContent = fmt(audio.currentTime) + ' / ' + fmt(audio.duration);
  });

  audio.addEventListener('ended', () => {
    btn.classList.remove('playing');
    fill.style.width = '0%';
    audio.currentTime = 0;
    time.textContent = fmt(audio.duration);
  });

  // Speed toggle
  const speedBtn = document.getElementById('audioSpeed');
  const speeds = [1, 1.5, 2];
  let speedIdx = 0;

  if (speedBtn) {
    speedBtn.addEventListener('click', () => {
      speedIdx = (speedIdx + 1) % speeds.length;
      audio.playbackRate = speeds[speedIdx];
      speedBtn.textContent = speeds[speedIdx] + 'x';
    });
  }

  bar.addEventListener('click', e => {
    if (!audio.duration) return;
    const rect = bar.getBoundingClientRect();
    const pct = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
    audio.currentTime = pct * audio.duration;
  });
})();
</script>

</body>
</html>